{"version":3,"sources":["webpack:///./src/views/Game.vue?caa2","webpack:///./src/views/Game.vue?3682","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./node_modules/@babel/runtime/helpers/esm/objectSpread.js","webpack:///src/views/Game.vue","webpack:///./src/views/Game.vue?f01b","webpack:///./src/views/Game.vue?21cd"],"names":["_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Game_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_Game_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n","render","_vm","this","_h","$createElement","_c","_self","role","turn","_l","dot","indexRow","key","indexCol","on","click","$event","colClicked","board","staticClass","_v","staticRenderFns","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","_objectSpread","target","i","arguments","length","source","ownKeys","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","forEach","Gamevue_type_script_lang_js_","name","data","test","boardRow","boardCol","rooms","roomId","$route","params","id","localStorage","methods","generateBoard","push","j","row","col","console","log","newRow","$set","checkWin","updateRoomData","firebase","ref","update","readDB","_this","snapshot","val","currentBoard","_i","currentTest","alert","_currentTest","_currentTest2","_currentTest3","created","views_Gamevue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__"],"mappings":"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","file":"js/game.9e5de51d.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.role == _vm.turn)?_c('div',_vm._l((_vm.boardRow),function(dot,indexRow){return _c('div',{key:'row' + indexRow},_vm._l((_vm.boardCol),function(dot,indexCol){return _c('span',{key:'col' + indexCol,on:{\"click\":function($event){_vm.colClicked(indexRow,indexCol)}}},[(_vm.board[indexRow][indexCol] === 'empty')?_c('span',[_c('span',{staticClass:\"dot mr-1\"})]):(_vm.board[indexRow][indexCol] === 'player1')?_c('span',[_c('span',{staticClass:\"dot mr-1 green\"})]):_c('span',[_c('span',{staticClass:\"dot mr-1 red\"})])])}),0)}),0):_c('div',[_c('h1',[_vm._v(\"Waiting for the other player\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"./defineProperty\";\nexport default function _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}","<template>\n<div >\n    <div v-if=\"role == turn\">\n        <div \n        v-for=\"(dot,indexRow) in boardRow\" \n        :key=\"'row' + indexRow\">\n            <span\n                v-for=\"(dot, indexCol) in boardCol\" \n                :key=\"'col' + indexCol\" \n                @click='colClicked(indexRow,indexCol)'\n                >\n\n                <span v-if=\"board[indexRow][indexCol] === 'empty'\">\n                    <span class=\"dot mr-1\" ></span>\n                </span>\n                <span v-else-if=\"board[indexRow][indexCol] === 'player1'\">\n                    <span class=\"dot mr-1 green\" ></span>\n                </span>\n                <span v-else>\n                    <span class=\"dot mr-1 red\" ></span>\n                </span>\n            </span>\n\n        </div>\n    </div>\n    \n    <div v-else>\n        <h1>Waiting for the other player</h1>\n    </div>\n\n</div>\n    \n</template>\n\n<script>\nimport db from '@/assets/firebase'\nexport default {\n    name: 'gameBoard',\n    data() {\n        return {\n            test: true,\n            boardRow: 6,\n            boardCol: 7,\n            board: [],\n            rooms: {},\n            turn: 'player1',\n            roomId: this.$route.params.id,\n            role: localStorage.role\n        }\n    },\n    methods: {\n        generateBoard(){\n            // console.log('generateBoard invoked');\n            let board = []\n        \n            for(let i = 0; i < this.boardRow; i++){\n                board.push([])\n                for(let j= 0; j < this.boardCol; j++){\n                    board[i].push('empty')\n                }\n            }\n\n            this.board = board\n        },\n        colClicked(row, col) {\n            console.log(row, col)\n            let newRow = this.boardRow - 1;\n            for(let i = this.boardRow - 1; i >= 0; i-- ) {\n                if(this.board[i][col] == 'empty') {\n                    newRow = i ;\n                    break\n                }\n            }\n            this.$set(this.board[newRow], col, localStorage.role)\n            this.checkWin()\n            this.turn === 'player1' ? this.turn='player2' : this.turn='player1';\n            this.updateRoomData()\n        },\n        updateRoomData() {\n            db.ref('rooms/' + this.roomId)\n            .update({\n                turn: this.turn,\n                board: this.board,\n            });\n        },\n        readDB() {\n            // Async\n            db.ref('rooms/' + this.roomId).on('value', (snapshot) => {\n                // console.log('Value updated');\n                this.rooms = snapshot.val()\n                this.board = {... this.rooms.board}\n                this.turn = this.rooms.turn\n                this.checkWin()\n            })\n        },\n        checkWin(){\n\n            let currentBoard = []\n            for(let i in this.board){\n                currentBoard.push(this.board[i])\n            }\n            console.log(currentBoard)\n            for(let i = 0; i < currentBoard.length; i++){\n                for(let j = 0; j < currentBoard[i].length; j++){\n                    if(currentBoard[i][j] !== 'empty' && j < currentBoard[i].length-3){\n                        let currentTest = currentBoard[i][j]\n                        if(currentBoard[i][j+1] == currentTest && currentBoard[i][j+2] == currentTest && currentBoard[i][j+3] == currentTest){\n                            alert(currentBoard[i][j] + 'win')\n                            this.generateBoard()\n                        }\n                    }\n                    if(currentBoard[i][j] !== 'empty' && i < currentBoard.length-3){\n                        let currentTest = currentBoard[i][j]\n                        if (currentBoard[i+1][j] == currentTest && currentBoard[i+2][j] == currentTest && currentBoard[i+3][j] == currentTest){\n                            alert(currentBoard[i][j] + 'win')\n                            this.generateBoard()\n                        }\n                    }\n                    if(currentBoard[i][j] !== 'empty' && i < currentBoard.length-3 && j < currentBoard[i].length-3){\n                        let currentTest = currentBoard[i][j]\n                        if(currentBoard[i+1][j+1] == currentTest && currentBoard[i+2][j+2] == currentTest && currentBoard[i+3][j+3] == currentTest) {\n                            alert(currentBoard[i][j] + 'win')\n                            this.generateBoard()\n                        }\n                    }\n                    if(currentBoard[i][j] !== 'empty' && i < currentBoard.length-3 && j < currentBoard[i].length-3){\n                        let currentTest = currentBoard[i][j]\n                        if(currentBoard[i+1][j-1] == currentTest && currentBoard[i+2][j-2] == currentTest && currentBoard[i+3][j-3] == currentTest) {\n                            alert(currentBoard[i][j] + 'win')\n                            this.generateBoard()\n                        }\n                    }\n                }\n            }\n        }\n    },\n    created() {\n        this.readDB() \n        this.generateBoard()\n    }\n}\n</script>\n\n<style>\n.dot {\n  height: 75px;\n  width: 75px;\n  background-color: #bbb;\n  border-radius: 50%;\n  display: inline-block;\n}\n.green{\n    background-color: lightgreen\n}\n.red{\n    background-color: red\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=33622d72&\"\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Game.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\ncomponent.options.__file = \"Game.vue\"\nexport default component.exports"],"sourceRoot":""}